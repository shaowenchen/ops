apiVersion: crd.chenshaowen.com/v1
kind: Task
metadata:
  name: add-k8sdep
  namespace: default
spec:
  desc: Install Kubernetes Dependence
  steps:
    - name: Current System
      script: echo ${distribution{}}
    - name: Install for CentOS
      script: yum install -y openssl ebtables ethtool socat ipset ipvsadm conntrack chrony
      when: ${distribution{}} == centos
    - name: Install for Ubuntu
      script: apt-get install -y openssl ebtables ethtool socat ipset ipvsadm conntrack chrony
      when: ${distribution{}} == ubuntu
