apiVersion: crd.chenshaowen.com/v1
kind: Task
metadata:
  name: get-gpu-status
  namespace: ops-system
spec:
  desc: use task `get-gpu-status` to get gpu status using nvidia-smi in specified host
  steps:
    - name: Check nvidia-smi
      content: command -v nvidia-smi
    - name: Show GPU Usage
      content: nvidia-smi --query-gpu=name,temperature.gpu,utilization.gpu,memory.total,utilization.memory --format=csv,noheader
