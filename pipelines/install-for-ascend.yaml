apiVersion: crd.chenshaowen.com/v1
kind: Pipeline
metadata:
  name: install-for-ascend
  namespace: ops-system
spec:
  desc: 安装 ascend 所需组件
  variables:
    cluster:
      required: true
    device-plugin-volcano-image:
      required: true
    npu-exporter-image:
      required: true
    volcano-scheduler-image:
      required: true
    volcano-controller-image:
      required: true
    hccl-test-image:
      required: true
  tasks:
    - name: 安装 device plugin volcano
      taskRef: install-device-plugin-volcano
    - name: 安装 npu exporter
      taskRef: install-npu-exporter
    - name: 安装 volcano
      taskRef: install-volcano
    - name: 安装 hccl test
      taskRef: install-hccl-test
